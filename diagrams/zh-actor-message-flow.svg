<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="401px" preserveAspectRatio="none" style="width:536px;height:401px;background:#F9F9F9;" version="1.1" viewBox="0 0 536 401" width="536px" zoomAndPan="magnify"><defs/><g><rect fill="#F9F9F9" height="401" style="stroke:transparent;stroke-width:1;" width="536" x="0" y="0"/><g><title>Actor 线程</title><rect fill="#FFFFFF" height="121.5313" style="stroke:#393939;stroke-width:1;" width="10" x="361.856" y="146.8281"/></g><g><title>主线程</title><rect fill="transparent" height="329.4609" width="8" x="103.5654" y="36.2969"/><line style="stroke:#393939;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="107" x2="107" y1="36.2969" y2="365.7578"/></g><g><title>消息队列</title><rect fill="transparent" height="329.4609" width="8" x="230.0317" y="36.2969"/><line style="stroke:#393939;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="233.1309" x2="233.1309" y1="36.2969" y2="365.7578"/></g><g><title>Actor 线程</title><rect fill="transparent" height="329.4609" width="8" x="362.856" y="36.2969"/><line style="stroke:#393939;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="366.4585" x2="366.4585" y1="36.2969" y2="365.7578"/></g><rect fill="#E55756" height="30.2969" rx="3.5" ry="3.5" style="stroke:#191919;stroke-width:1.5;" width="101.1309" x="57" y="5"/><text fill="#F9F9F9" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1309" x="64" y="24.9951">主线程</text><rect fill="#E55756" height="30.2969" rx="3.5" ry="3.5" style="stroke:#191919;stroke-width:1.5;" width="101.1309" x="57" y="364.7578"/><text fill="#F9F9F9" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1309" x="64" y="384.7529">主线程</text><path d="M173.1309,10 L294.9326,10 C299.9326,10 299.9326,23.1484 299.9326,23.1484 C299.9326,23.1484 299.9326,36.2969 294.9326,36.2969 L173.1309,36.2969 C168.1309,36.2969 168.1309,23.1484 168.1309,23.1484 C168.1309,23.1484 168.1309,10 173.1309,10 " fill="#E55756" style="stroke:#191919;stroke-width:1.5;"/><path d="M294.9326,10 C289.9326,10 289.9326,23.1484 289.9326,23.1484 C289.9326,36.2969 294.9326,36.2969 294.9326,36.2969 " fill="transparent" style="stroke:#191919;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.8018" x="173.1309" y="27.9951">消息队列</text><path d="M173.1309,364.7578 L294.9326,364.7578 C299.9326,364.7578 299.9326,377.9063 299.9326,377.9063 C299.9326,377.9063 299.9326,391.0547 294.9326,391.0547 L173.1309,391.0547 C168.1309,391.0547 168.1309,377.9063 168.1309,377.9063 C168.1309,377.9063 168.1309,364.7578 173.1309,364.7578 " fill="#E55756" style="stroke:#191919;stroke-width:1.5;"/><path d="M294.9326,364.7578 C289.9326,364.7578 289.9326,377.9063 289.9326,377.9063 C289.9326,391.0547 294.9326,391.0547 294.9326,391.0547 " fill="transparent" style="stroke:#191919;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.8018" x="173.1309" y="382.7529">消息队列</text><rect fill="#E55756" height="30.2969" rx="3.5" ry="3.5" style="stroke:#191919;stroke-width:1.5;" width="104.7949" x="314.4585" y="5"/><text fill="#F9F9F9" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7949" x="321.4585" y="24.9951">Actor 线程</text><rect fill="#E55756" height="30.2969" rx="3.5" ry="3.5" style="stroke:#191919;stroke-width:1.5;" width="104.7949" x="314.4585" y="364.7578"/><text fill="#F9F9F9" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7949" x="321.4585" y="384.7529">Actor 线程</text><g><title>Actor 线程</title><rect fill="#FFFFFF" height="121.5313" style="stroke:#393939;stroke-width:1;" width="10" x="361.856" y="146.8281"/></g><polygon fill="#191919" points="222.0317,63.4297,232.0317,67.4297,222.0317,71.4297,226.0317,67.4297" style="stroke:#191919;stroke-width:1;"/><line style="stroke:#191919;stroke-width:1;" x1="107.5654" x2="228.0317" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9893" x="114.5654" y="62.3638">$room-&gt;post()</text><path d="M112,83.9297 L112,116.9297 A3.5,3.5 0 0 0 115.5,120.4297 L254.5,120.4297 A3.5,3.5 0 0 0 258,116.9297 L258,90.4297 L248,80.4297 L115.5,80.4297 A3.5,3.5 0 0 0 112,83.9297 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><path d="M248,80.4297 L248,88.6797 A1.75,1.75 0 0 0 249.75,90.4297 L258,90.4297 L248,80.4297 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.4619" x="118" y="97.4966">主线程阻塞</text><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.874" x="118" y="112.6294">并等待结果</text><polygon fill="#191919" points="349.856,142.8281,359.856,146.8281,349.856,150.8281,353.856,146.8281" style="stroke:#191919;stroke-width:1;"/><line style="stroke:#191919;stroke-width:1;" x1="234.0317" x2="355.856" y1="146.8281" y2="146.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.8242" x="241.0317" y="141.7622">投递消息</text><line style="stroke:#191919;stroke-width:1;" x1="371.856" x2="413.856" y1="175.9609" y2="175.9609"/><line style="stroke:#191919;stroke-width:1;" x1="413.856" x2="413.856" y1="175.9609" y2="188.9609"/><line style="stroke:#191919;stroke-width:1;" x1="372.856" x2="413.856" y1="188.9609" y2="188.9609"/><polygon fill="#191919" points="382.856,184.9609,372.856,188.9609,382.856,192.9609,378.856,188.9609" style="stroke:#191919;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.2959" x="378.856" y="170.895">post() 执行</text><path d="M376,205.4609 L376,238.4609 A3.5,3.5 0 0 0 379.5,241.9609 L525.5,241.9609 A3.5,3.5 0 0 0 529,238.4609 L529,211.9609 L519,201.9609 L379.5,201.9609 A3.5,3.5 0 0 0 376,205.4609 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><path d="M519,201.9609 L519,210.2109 A1.75,1.75 0 0 0 520.75,211.9609 L529,211.9609 L519,201.9609 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.4883" x="382" y="219.0278">处理消息</text><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5225" x="382" y="234.1606">在 Actor 线程中</text><polygon fill="#191919" points="245.0317,264.3594,235.0317,268.3594,245.0317,272.3594,241.0317,268.3594" style="stroke:#191919;stroke-width:1;"/><line style="stroke:#191919;stroke-width:1;" x1="239.0317" x2="365.856" y1="268.3594" y2="268.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.5923" x="251.0317" y="263.2935">返回值</text><polygon fill="#191919" points="118.5654,293.4922,108.5654,297.4922,118.5654,301.4922,114.5654,297.4922" style="stroke:#191919;stroke-width:1;"/><line style="stroke:#191919;stroke-width:1;" x1="112.5654" x2="233.0317" y1="297.4922" y2="297.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.1387" x="124.5654" y="292.4263">结果就绪</text><path d="M5,313.9922 L5,346.9922 A3.5,3.5 0 0 0 8.5,350.4922 L98.5,350.4922 A3.5,3.5 0 0 0 102,346.9922 L102,320.4922 L92,310.4922 L8.5,310.4922 A3.5,3.5 0 0 0 5,313.9922 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><path d="M92,310.4922 L92,318.7422 A1.75,1.75 0 0 0 93.75,320.4922 L102,320.4922 L92,310.4922 " fill="#E5E5E5" style="stroke:#191919;stroke-width:1.5;"/><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.8892" x="11" y="327.5591">$result = ...</text><text fill="#191919" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4976" x="11" y="342.6919">已解除阻塞</text><!--SRC=[NP1DJiCm44RtFiL7rGKicWDKeX8IMwI2u023Cqai4ZlOum2tnpzL25qbCxRVzsPkPE29CP4FIitanMWpanNidiXOl0wUgTs10dAjFYD7JcSS0lMCvroMq_Bt7_2WnVajeJIKAk33gJuvOk-TcmwdsGMvlLFM2SERVX2uhcQYV205XFVHwO-GccHRV96HW2x5U0vn5CMfcH5A5NgEAQb7FF9e5lQOgheYBMQX57QnghP_zwiF-9jr50vNOlKHSFPE9w2n_Ge6aYmLMbNUIAqXbzbVMAAtM6XCoslvsccT8IyWtyup8ZD_gi_8tNPF-xe5tADfcbI_sR8jtYZy0W00]--></g></svg>